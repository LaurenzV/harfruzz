# Benchmarks

## Run

```
export HARFBUZZ_SYS_NO_PKG_CONFIG
cargo +nightly bench
```

## Results (on M1 Pro)

```
test arabic::paragraph_long::hb       ... bench:     157,554.78 ns/iter (+/- 6,997.67)
test arabic::paragraph_long::rb       ... bench:     397,966.66 ns/iter (+/- 18,292.85)
test arabic::paragraph_medium::hb     ... bench:      88,102.08 ns/iter (+/- 8,528.49)
test arabic::paragraph_medium::rb     ... bench:     219,391.68 ns/iter (+/- 5,193.87)
test arabic::paragraph_short::hb      ... bench:      33,729.11 ns/iter (+/- 2,121.42)
test arabic::paragraph_short::rb      ... bench:      77,927.99 ns/iter (+/- 2,682.57)
test arabic::sentence_1::hb           ... bench:      25,228.03 ns/iter (+/- 1,244.02)
test arabic::sentence_1::rb           ... bench:      52,375.05 ns/iter (+/- 441.82)
test arabic::sentence_2::hb           ... bench:      25,109.66 ns/iter (+/- 551.67)
test arabic::sentence_2::rb           ... bench:      55,839.35 ns/iter (+/- 1,709.20)
test arabic::word_1::hb               ... bench:      12,595.54 ns/iter (+/- 276.36)
test arabic::word_1::rb               ... bench:      16,132.40 ns/iter (+/- 250.65)
test arabic::word_2::hb               ... bench:      12,925.74 ns/iter (+/- 214.90)
test arabic::word_2::rb               ... bench:      17,359.59 ns/iter (+/- 515.02)
test arabic::word_3::hb               ... bench:      12,690.52 ns/iter (+/- 285.44)
test arabic::word_3::rb               ... bench:      16,573.53 ns/iter (+/- 383.32)
test english::aat_paragraph_long::hb  ... bench:     397,541.70 ns/iter (+/- 22,081.31)
test english::aat_paragraph_long::rb  ... bench:     504,395.80 ns/iter (+/- 10,360.11)
test english::aat_sentence_1::hb      ... bench:      56,233.71 ns/iter (+/- 1,738.20)
test english::aat_sentence_1::rb      ... bench:      62,257.50 ns/iter (+/- 2,835.84)
test english::aat_word_1::hb          ... bench:      10,471.44 ns/iter (+/- 6,218.99)
test english::aat_word_1::rb          ... bench:       4,472.48 ns/iter (+/- 202.95)
test english::long_zalgo::hb          ... bench:     836,575.00 ns/iter (+/- 56,299.48)
test english::long_zalgo::rb          ... bench:   1,883,695.85 ns/iter (+/- 657,664.56)
test english::paragraph_long::hb      ... bench:     130,686.52 ns/iter (+/- 4,183.67)
test english::paragraph_long::rb      ... bench:     453,666.60 ns/iter (+/- 18,605.81)
test english::paragraph_long_mono::hb ... bench:      18,031.37 ns/iter (+/- 1,190.06)
test english::paragraph_long_mono::rb ... bench:      79,437.97 ns/iter (+/- 2,770.01)
test english::paragraph_medium::hb    ... bench:      94,091.67 ns/iter (+/- 4,137.70)
test english::paragraph_medium::rb    ... bench:     328,589.55 ns/iter (+/- 12,612.52)
test english::paragraph_short::hb     ... bench:      57,906.02 ns/iter (+/- 2,530.29)
test english::paragraph_short::rb     ... bench:     209,460.42 ns/iter (+/- 7,389.06)
test english::sentence_1::hb          ... bench:      33,595.57 ns/iter (+/- 2,622.35)
test english::sentence_1::rb          ... bench:     125,132.27 ns/iter (+/- 14,286.18)
test english::sentence_2::hb          ... bench:      32,067.50 ns/iter (+/- 2,479.71)
test english::sentence_2::rb          ... bench:     114,957.08 ns/iter (+/- 2,761.43)
test english::sentence_mono::hb       ... bench:       4,674.13 ns/iter (+/- 427.39)
test english::sentence_mono::rb       ... bench:      12,614.77 ns/iter (+/- 208.00)
test english::short_zalgo::hb         ... bench:      46,156.25 ns/iter (+/- 1,446.25)
test english::short_zalgo::rb         ... bench:     146,326.02 ns/iter (+/- 4,250.96)
test english::variations::hb          ... bench:     138,263.36 ns/iter (+/- 9,391.81)
test english::variations::rb          ... bench:     498,679.20 ns/iter (+/- 23,462.55)
test english::variations_default::hb  ... bench:     138,582.81 ns/iter (+/- 9,576.10)
test english::variations_default::rb  ... bench:     495,095.80 ns/iter (+/- 13,557.88)
test english::word_1::hb              ... bench:      21,363.54 ns/iter (+/- 755.01)
test english::word_1::rb              ... bench:      70,263.02 ns/iter (+/- 2,926.05)
test english::word_2::hb              ... bench:      21,575.38 ns/iter (+/- 297.78)
test english::word_2::rb              ... bench:      71,606.82 ns/iter (+/- 1,527.91)
test english::word_3::hb              ... bench:      21,876.48 ns/iter (+/- 7,163.00)
test english::word_3::rb              ... bench:      69,421.72 ns/iter (+/- 2,997.46)
test english::word_4::hb              ... bench:      21,757.29 ns/iter (+/- 883.14)
test english::word_4::rb              ... bench:      73,681.46 ns/iter (+/- 3,052.85)
test hebrew::paragraph_long_1::hb     ... bench:      72,065.47 ns/iter (+/- 5,335.64)
test hebrew::paragraph_long_1::rb     ... bench:     281,395.85 ns/iter (+/- 22,245.17)
test hebrew::paragraph_long_2::hb     ... bench:     138,268.05 ns/iter (+/- 10,812.37)
test hebrew::paragraph_long_2::rb     ... bench:     433,862.53 ns/iter (+/- 18,908.57)
test hebrew::paragraph_medium::hb     ... bench:      21,144.79 ns/iter (+/- 768.68)
test hebrew::paragraph_medium::rb     ... bench:      74,507.41 ns/iter (+/- 1,106.95)
test hebrew::sentence_1::hb           ... bench:       9,085.86 ns/iter (+/- 342.19)
test hebrew::sentence_1::rb           ... bench:      31,171.33 ns/iter (+/- 639.20)
test hebrew::sentence_2::hb           ... bench:       8,942.39 ns/iter (+/- 334.90)
test hebrew::sentence_2::rb           ... bench:      24,130.42 ns/iter (+/- 888.10)
test hebrew::word_1::hb               ... bench:       5,291.51 ns/iter (+/- 129.34)
test hebrew::word_1::rb               ... bench:       9,096.52 ns/iter (+/- 141.82)
test hebrew::word_2::hb               ... bench:       5,252.19 ns/iter (+/- 114.34)
test hebrew::word_2::rb               ... bench:       9,132.08 ns/iter (+/- 139.96)
test hindi::aat_paragraph_long::hb    ... bench:   1,295,443.75 ns/iter (+/- 118,847.66)
test hindi::aat_paragraph_long::rb    ... bench:   1,419,450.00 ns/iter (+/- 468,322.30)
test hindi::aat_sentence::hb          ... bench:     169,502.26 ns/iter (+/- 3,692.06)
test hindi::aat_sentence::rb          ... bench:     194,597.92 ns/iter (+/- 9,738.72)
test hindi::aat_word::hb              ... bench:      36,521.88 ns/iter (+/- 600.14)
test hindi::aat_word::rb              ... bench:      45,017.71 ns/iter (+/- 2,598.47)
test hindi::paragraph_long::hb        ... bench:     513,937.50 ns/iter (+/- 19,536.27)
test hindi::paragraph_long::rb        ... bench:     950,891.70 ns/iter (+/- 23,597.69)
test hindi::paragraph_medium::hb      ... bench:     329,162.50 ns/iter (+/- 17,897.48)
test hindi::paragraph_medium::rb      ... bench:     614,725.00 ns/iter (+/- 24,919.52)
test hindi::paragraph_short::hb       ... bench:     181,281.97 ns/iter (+/- 9,193.89)
test hindi::paragraph_short::rb       ... bench:     349,209.89 ns/iter (+/- 11,041.14)
test hindi::sentence_1::hb            ... bench:      75,084.03 ns/iter (+/- 1,719.17)
test hindi::sentence_1::rb            ... bench:     167,373.34 ns/iter (+/- 5,446.01)
test hindi::sentence_2::hb            ... bench:      67,256.27 ns/iter (+/- 1,566.35)
test hindi::sentence_2::rb            ... bench:     153,645.84 ns/iter (+/- 2,788.47)
test hindi::word_1::hb                ... bench:      27,623.44 ns/iter (+/- 346.20)
test hindi::word_1::rb                ... bench:      69,091.66 ns/iter (+/- 6,901.97)
test hindi::word_2::hb                ... bench:      28,117.37 ns/iter (+/- 939.90)
test hindi::word_2::rb                ... bench:      69,959.12 ns/iter (+/- 6,886.07)
test khmer::aat_paragraph_long_1::hb  ... bench:     553,112.50 ns/iter (+/- 17,600.26)
test khmer::aat_paragraph_long_1::rb  ... bench:     755,458.40 ns/iter (+/- 40,969.59)
test khmer::aat_sentence_1::hb        ... bench:      43,761.01 ns/iter (+/- 1,455.83)
test khmer::aat_sentence_1::rb        ... bench:      75,680.83 ns/iter (+/- 838.05)
test khmer::aat_word_1::hb            ... bench:      11,426.82 ns/iter (+/- 337.39)
test khmer::aat_word_1::rb            ... bench:      19,966.36 ns/iter (+/- 1,155.01)
test khmer::paragraph_long_1::hb      ... bench:     337,671.88 ns/iter (+/- 14,865.12)
test khmer::paragraph_long_1::rb      ... bench:     725,252.10 ns/iter (+/- 29,511.25)
test khmer::paragraph_long_2::hb      ... bench:     418,497.95 ns/iter (+/- 12,202.44)
test khmer::paragraph_long_2::rb      ... bench:     882,058.35 ns/iter (+/- 21,528.68)
test khmer::paragraph_medium::hb      ... bench:     209,306.25 ns/iter (+/- 16,203.97)
test khmer::paragraph_medium::rb      ... bench:     424,402.10 ns/iter (+/- 6,421.89)
test khmer::sentence_1::hb            ... bench:      16,934.11 ns/iter (+/- 226.51)
test khmer::sentence_1::rb            ... bench:      57,979.92 ns/iter (+/- 1,458.25)
test khmer::sentence_2::hb            ... bench:      29,706.55 ns/iter (+/- 656.46)
test khmer::sentence_2::rb            ... bench:      57,127.78 ns/iter (+/- 1,280.14)
test khmer::word_1::hb                ... bench:      15,468.96 ns/iter (+/- 1,553.51)
test khmer::word_1::rb                ... bench:      25,637.41 ns/iter (+/- 235.92)
test khmer::word_2::hb                ... bench:      16,807.68 ns/iter (+/- 1,607.82)
test khmer::word_2::rb                ... bench:      29,287.50 ns/iter (+/- 1,302.26)
test khmer::word_3::hb                ... bench:      15,198.96 ns/iter (+/- 576.35)
test khmer::word_3::rb                ... bench:      26,361.70 ns/iter (+/- 1,051.68)
test myanmar::aat_paragraph_long::hb  ... bench:     883,412.50 ns/iter (+/- 30,165.24)
test myanmar::aat_paragraph_long::rb  ... bench:   2,474,945.90 ns/iter (+/- 70,010.00)
test myanmar::aat_sentence_1::hb      ... bench:      67,210.55 ns/iter (+/- 3,444.47)
test myanmar::aat_sentence_1::rb      ... bench:      97,327.10 ns/iter (+/- 7,473.65)
test myanmar::aat_word_1::hb          ... bench:       8,675.07 ns/iter (+/- 219.70)
test myanmar::aat_word_1::rb          ... bench:      11,707.74 ns/iter (+/- 477.84)
test myanmar::paragraph_long::hb      ... bench:   1,038,495.80 ns/iter (+/- 30,073.26)
test myanmar::paragraph_long::rb      ... bench:   3,051,991.70 ns/iter (+/- 73,529.54)
test myanmar::paragraph_medium::hb    ... bench:     388,087.45 ns/iter (+/- 11,410.78)
test myanmar::paragraph_medium::rb    ... bench:   1,168,575.00 ns/iter (+/- 35,945.00)
test myanmar::paragraph_short::hb     ... bench:      79,501.58 ns/iter (+/- 1,573.03)
test myanmar::paragraph_short::rb     ... bench:     252,308.30 ns/iter (+/- 11,310.54)
test myanmar::sentence_1::hb          ... bench:      81,397.90 ns/iter (+/- 5,719.92)
test myanmar::sentence_1::rb          ... bench:     258,366.70 ns/iter (+/- 3,832.78)
test myanmar::sentence_2::hb          ... bench:     103,856.95 ns/iter (+/- 9,310.35)
test myanmar::sentence_2::rb          ... bench:     350,987.50 ns/iter (+/- 12,108.18)
test myanmar::word_1::hb              ... bench:      15,175.36 ns/iter (+/- 261.85)
test myanmar::word_1::rb              ... bench:      26,022.42 ns/iter (+/- 689.82)
test myanmar::word_2::hb              ... bench:      16,010.56 ns/iter (+/- 204.42)
test myanmar::word_2::rb              ... bench:      26,465.76 ns/iter (+/- 1,027.85)
test thai::paragraph_long::hb         ... bench:     179,352.78 ns/iter (+/- 6,334.34)
test thai::paragraph_long::rb         ... bench:     407,083.33 ns/iter (+/- 13,335.20)
test thai::paragraph_medium::hb       ... bench:      51,979.68 ns/iter (+/- 1,420.78)
test thai::paragraph_medium::rb       ... bench:     129,863.75 ns/iter (+/- 3,980.33)
test thai::paragraph_short::hb        ... bench:      23,034.89 ns/iter (+/- 780.99)
test thai::paragraph_short::rb        ... bench:      52,356.25 ns/iter (+/- 1,278.06)
test thai::sentence_1::hb             ... bench:      15,700.97 ns/iter (+/- 364.59)
test thai::sentence_1::rb             ... bench:      41,505.99 ns/iter (+/- 821.98)
test thai::word_1::hb                 ... bench:       5,969.11 ns/iter (+/- 254.29)
test thai::word_1::rb                 ... bench:      11,288.76 ns/iter (+/- 240.34)
test thai::word_2::hb                 ... bench:       5,981.47 ns/iter (+/- 174.59)
test thai::word_2::rb                 ... bench:      11,764.41 ns/iter (+/- 689.10)
```
