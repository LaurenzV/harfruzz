# Benchmarks

## Run

```
export HARFBUZZ_SYS_NO_PKG_CONFIG
cargo +nightly bench
```

## Results (on M1 Pro)

```
test arabic::paragraph_long::hb       ... bench:     221,602.05 ns/iter (+/- 8,977.10)
test arabic::paragraph_long::rb       ... bench:     386,633.30 ns/iter (+/- 10,836.98)
test arabic::paragraph_medium::hb     ... bench:     128,700.84 ns/iter (+/- 9,098.12)
test arabic::paragraph_medium::rb     ... bench:     219,901.38 ns/iter (+/- 8,748.54)
test arabic::paragraph_short::hb      ... bench:      51,582.50 ns/iter (+/- 3,409.20)
test arabic::paragraph_short::rb      ... bench:      77,077.09 ns/iter (+/- 1,305.39)
test arabic::sentence_1::hb           ... bench:      38,931.77 ns/iter (+/- 2,209.08)
test arabic::sentence_1::rb           ... bench:      53,006.57 ns/iter (+/- 3,942.66)
test arabic::sentence_2::hb           ... bench:      39,320.37 ns/iter (+/- 3,509.58)
test arabic::sentence_2::rb           ... bench:      55,955.42 ns/iter (+/- 3,842.46)
test arabic::word_1::hb               ... bench:      19,122.18 ns/iter (+/- 480.39)
test arabic::word_1::rb               ... bench:      16,100.42 ns/iter (+/- 298.82)
test arabic::word_2::hb               ... bench:      19,664.46 ns/iter (+/- 383.19)
test arabic::word_2::rb               ... bench:      17,261.96 ns/iter (+/- 347.28)
test arabic::word_3::hb               ... bench:      19,298.44 ns/iter (+/- 2,249.86)
test arabic::word_3::rb               ... bench:      16,516.53 ns/iter (+/- 1,677.72)
test english::aat_paragraph_long::hb  ... bench:     576,516.65 ns/iter (+/- 30,267.29)
test english::aat_paragraph_long::rb  ... bench:     513,387.50 ns/iter (+/- 23,102.90)
test english::aat_sentence_1::hb      ... bench:      87,072.96 ns/iter (+/- 1,287.01)
test english::aat_sentence_1::rb      ... bench:      62,072.92 ns/iter (+/- 8,654.94)
test english::aat_word_1::hb          ... bench:      14,458.50 ns/iter (+/- 897.80)
test english::aat_word_1::rb          ... bench:       4,419.85 ns/iter (+/- 155.74)
test english::long_zalgo::hb          ... bench:   1,090,958.30 ns/iter (+/- 15,623.37)
test english::long_zalgo::rb          ... bench:   1,826,050.00 ns/iter (+/- 72,768.75)
test english::paragraph_long::hb      ... bench:     195,748.63 ns/iter (+/- 17,346.01)
test english::paragraph_long::rb      ... bench:     492,554.15 ns/iter (+/- 47,541.40)
test english::paragraph_long_mono::hb ... bench:      26,884.03 ns/iter (+/- 3,551.04)
test english::paragraph_long_mono::rb ... bench:      78,812.27 ns/iter (+/- 850.74)
test english::paragraph_medium::hb    ... bench:     139,120.83 ns/iter (+/- 5,433.79)
test english::paragraph_medium::rb    ... bench:     326,764.65 ns/iter (+/- 10,677.21)
test english::paragraph_short::hb     ... bench:      88,414.87 ns/iter (+/- 2,302.61)
test english::paragraph_short::rb     ... bench:     206,656.28 ns/iter (+/- 2,510.43)
test english::sentence_1::hb          ... bench:      51,363.33 ns/iter (+/- 1,282.92)
test english::sentence_1::rb          ... bench:     122,864.29 ns/iter (+/- 2,581.24)
test english::sentence_2::hb          ... bench:      49,083.33 ns/iter (+/- 782.09)
test english::sentence_2::rb          ... bench:     114,414.29 ns/iter (+/- 2,718.22)
test english::sentence_mono::hb       ... bench:       6,039.42 ns/iter (+/- 275.99)
test english::sentence_mono::rb       ... bench:      12,603.33 ns/iter (+/- 205.88)
test english::short_zalgo::hb         ... bench:      71,632.44 ns/iter (+/- 4,743.19)
test english::short_zalgo::rb         ... bench:     145,219.45 ns/iter (+/- 3,927.27)
test english::variations::hb          ... bench:     201,222.85 ns/iter (+/- 3,978.47)
test english::variations::rb          ... bench:     496,341.60 ns/iter (+/- 22,933.29)
test english::variations_default::hb  ... bench:     200,995.83 ns/iter (+/- 6,758.66)
test english::variations_default::rb  ... bench:     496,125.00 ns/iter (+/- 39,886.19)
test english::word_1::hb              ... bench:      33,008.71 ns/iter (+/- 729.08)
test english::word_1::rb              ... bench:      70,077.35 ns/iter (+/- 1,973.93)
test english::word_2::hb              ... bench:      33,503.33 ns/iter (+/- 683.15)
test english::word_2::rb              ... bench:      72,046.18 ns/iter (+/- 1,410.93)
test english::word_3::hb              ... bench:      32,755.73 ns/iter (+/- 370.50)
test english::word_3::rb              ... bench:      69,235.77 ns/iter (+/- 1,125.31)
test english::word_4::hb              ... bench:      33,641.85 ns/iter (+/- 572.01)
test english::word_4::rb              ... bench:      73,087.96 ns/iter (+/- 4,708.10)
test hebrew::paragraph_long_1::hb     ... bench:     101,357.52 ns/iter (+/- 7,273.99)
test hebrew::paragraph_long_1::rb     ... bench:     282,163.90 ns/iter (+/- 10,520.90)
test hebrew::paragraph_long_2::hb     ... bench:     182,004.15 ns/iter (+/- 9,788.76)
test hebrew::paragraph_long_2::rb     ... bench:     436,762.50 ns/iter (+/- 16,848.42)
test hebrew::paragraph_medium::hb     ... bench:      30,146.95 ns/iter (+/- 2,184.92)
test hebrew::paragraph_medium::rb     ... bench:      75,846.88 ns/iter (+/- 3,443.23)
test hebrew::sentence_1::hb           ... bench:      12,787.92 ns/iter (+/- 692.63)
test hebrew::sentence_1::rb           ... bench:      30,994.45 ns/iter (+/- 569.53)
test hebrew::sentence_2::hb           ... bench:      11,908.56 ns/iter (+/- 458.35)
test hebrew::sentence_2::rb           ... bench:      24,226.50 ns/iter (+/- 1,015.09)
test hebrew::word_1::hb               ... bench:       6,710.84 ns/iter (+/- 178.22)
test hebrew::word_1::rb               ... bench:       9,053.50 ns/iter (+/- 425.12)
test hebrew::word_2::hb               ... bench:       6,732.55 ns/iter (+/- 379.07)
test hebrew::word_2::rb               ... bench:       9,082.70 ns/iter (+/- 394.34)
test hindi::aat_paragraph_long::hb    ... bench:   1,562,491.60 ns/iter (+/- 47,024.16)
test hindi::aat_paragraph_long::rb    ... bench:   1,372,287.40 ns/iter (+/- 62,652.09)
test hindi::aat_sentence::hb          ... bench:     258,384.38 ns/iter (+/- 3,952.41)
test hindi::aat_sentence::rb          ... bench:     199,276.37 ns/iter (+/- 10,924.33)
test hindi::aat_word::hb              ... bench:      74,240.10 ns/iter (+/- 1,211.61)
test hindi::aat_word::rb              ... bench:      44,834.46 ns/iter (+/- 772.38)
test hindi::paragraph_long::hb        ... bench:     631,550.00 ns/iter (+/- 28,057.53)
test hindi::paragraph_long::rb        ... bench:     942,745.85 ns/iter (+/- 25,362.90)
test hindi::paragraph_medium::hb      ... bench:     417,170.90 ns/iter (+/- 28,559.73)
test hindi::paragraph_medium::rb      ... bench:     608,400.00 ns/iter (+/- 27,571.64)
test hindi::paragraph_short::hb       ... bench:     236,097.90 ns/iter (+/- 6,654.39)
test hindi::paragraph_short::rb       ... bench:     340,992.19 ns/iter (+/- 10,988.56)
test hindi::sentence_1::hb            ... bench:     104,885.02 ns/iter (+/- 5,859.99)
test hindi::sentence_1::rb            ... bench:     164,263.55 ns/iter (+/- 9,512.82)
test hindi::sentence_2::hb            ... bench:      92,668.54 ns/iter (+/- 3,306.77)
test hindi::sentence_2::rb            ... bench:     150,916.65 ns/iter (+/- 8,955.52)
test hindi::word_1::hb                ... bench:      37,699.02 ns/iter (+/- 1,536.29)
test hindi::word_1::rb                ... bench:      68,104.16 ns/iter (+/- 5,258.82)
test hindi::word_2::hb                ... bench:      38,393.16 ns/iter (+/- 2,408.57)
test hindi::word_2::rb                ... bench:      69,661.58 ns/iter (+/- 5,274.14)
test khmer::aat_paragraph_long_1::hb  ... bench:     799,187.50 ns/iter (+/- 17,138.34)
test khmer::aat_paragraph_long_1::rb  ... bench:     748,560.40 ns/iter (+/- 11,524.81)
test khmer::aat_sentence_1::hb        ... bench:      66,909.91 ns/iter (+/- 2,984.46)
test khmer::aat_sentence_1::rb        ... bench:      75,946.29 ns/iter (+/- 1,021.62)
test khmer::aat_word_1::hb            ... bench:      13,798.08 ns/iter (+/- 284.23)
test khmer::aat_word_1::rb            ... bench:      19,970.44 ns/iter (+/- 654.99)
test khmer::paragraph_long_1::hb      ... bench:     426,804.15 ns/iter (+/- 10,560.62)
test khmer::paragraph_long_1::rb      ... bench:     718,769.80 ns/iter (+/- 14,580.72)
test khmer::paragraph_long_2::hb      ... bench:     531,966.70 ns/iter (+/- 25,625.82)
test khmer::paragraph_long_2::rb      ... bench:     868,654.20 ns/iter (+/- 38,552.91)
test khmer::paragraph_medium::hb      ... bench:     268,912.55 ns/iter (+/- 23,704.53)
test khmer::paragraph_medium::rb      ... bench:     416,731.25 ns/iter (+/- 18,804.18)
test khmer::sentence_1::hb            ... bench:      22,555.47 ns/iter (+/- 475.44)
test khmer::sentence_1::rb            ... bench:      58,039.23 ns/iter (+/- 1,556.42)
test khmer::sentence_2::hb            ... bench:      40,774.41 ns/iter (+/- 1,270.45)
test khmer::sentence_2::rb            ... bench:      57,048.96 ns/iter (+/- 2,076.97)
test khmer::word_1::hb                ... bench:      19,876.00 ns/iter (+/- 461.77)
test khmer::word_1::rb                ... bench:      25,589.77 ns/iter (+/- 621.50)
test khmer::word_2::hb                ... bench:      22,421.78 ns/iter (+/- 1,438.85)
test khmer::word_2::rb                ... bench:      29,311.54 ns/iter (+/- 612.43)
test khmer::word_3::hb                ... bench:      19,809.42 ns/iter (+/- 805.22)
test khmer::word_3::rb                ... bench:      26,281.02 ns/iter (+/- 2,045.75)
test myanmar::aat_paragraph_long::hb  ... bench:   1,109,437.50 ns/iter (+/- 53,717.10)
test myanmar::aat_paragraph_long::rb  ... bench:   2,471,545.70 ns/iter (+/- 36,169.62)
test myanmar::aat_sentence_1::hb      ... bench:      94,204.70 ns/iter (+/- 2,952.50)
test myanmar::aat_sentence_1::rb      ... bench:      91,046.01 ns/iter (+/- 2,161.16)
test myanmar::aat_word_1::hb          ... bench:       9,949.72 ns/iter (+/- 237.42)
test myanmar::aat_word_1::rb          ... bench:      11,744.48 ns/iter (+/- 1,271.16)
test myanmar::paragraph_long::hb      ... bench:   1,833,747.90 ns/iter (+/- 33,303.36)
test myanmar::paragraph_long::rb      ... bench:   3,050,033.30 ns/iter (+/- 50,515.12)
test myanmar::paragraph_medium::hb    ... bench:     709,291.60 ns/iter (+/- 19,258.78)
test myanmar::paragraph_medium::rb    ... bench:   1,157,939.60 ns/iter (+/- 35,346.40)
test myanmar::paragraph_short::hb     ... bench:     160,476.02 ns/iter (+/- 4,522.29)
test myanmar::paragraph_short::rb     ... bench:     250,400.00 ns/iter (+/- 10,598.10)
test myanmar::sentence_1::hb          ... bench:     163,554.15 ns/iter (+/- 3,929.49)
test myanmar::sentence_1::rb          ... bench:     255,259.70 ns/iter (+/- 4,252.09)
test myanmar::sentence_2::hb          ... bench:     215,652.80 ns/iter (+/- 9,367.52)
test myanmar::sentence_2::rb          ... bench:     347,417.70 ns/iter (+/- 7,680.41)
test myanmar::word_1::hb              ... bench:      26,048.81 ns/iter (+/- 694.52)
test myanmar::word_1::rb              ... bench:      25,983.15 ns/iter (+/- 1,076.16)
test myanmar::word_2::hb              ... bench:      27,455.65 ns/iter (+/- 2,370.38)
test myanmar::word_2::rb              ... bench:      26,465.22 ns/iter (+/- 940.04)
test thai::paragraph_long::hb         ... bench:     240,497.93 ns/iter (+/- 19,224.37)
test thai::paragraph_long::rb         ... bench:     403,285.40 ns/iter (+/- 23,715.24)
test thai::paragraph_medium::hb       ... bench:      76,092.50 ns/iter (+/- 4,102.06)
test thai::paragraph_medium::rb       ... bench:     126,953.74 ns/iter (+/- 2,871.64)
test thai::paragraph_short::hb        ... bench:      31,941.93 ns/iter (+/- 541.10)
test thai::paragraph_short::rb        ... bench:      52,662.82 ns/iter (+/- 1,388.56)
test thai::sentence_1::hb             ... bench:      22,536.46 ns/iter (+/- 603.17)
test thai::sentence_1::rb             ... bench:      41,380.00 ns/iter (+/- 786.46)
test thai::word_1::hb                 ... bench:       7,501.04 ns/iter (+/- 173.90)
test thai::word_1::rb                 ... bench:      11,260.64 ns/iter (+/- 176.47)
test thai::word_2::hb                 ... bench:       7,606.07 ns/iter (+/- 303.55)
test thai::word_2::rb                 ... bench:      11,768.82 ns/iter (+/- 272.56)
```
